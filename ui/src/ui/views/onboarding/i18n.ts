/**
 * Lightweight i18n system for the onboarding wizard.
 * Provides translations for the first-launch setup flow.
 */

export type Locale = "en" | "zh-CN" | "zh-TW" | "ja" | "ko" | "es" | "fr" | "de" | "pt-BR" | "ru";

export type I18nMessages = typeof EN;

const EN = {
  // Step indicator
  stepOf: (current: number, total: number) => `Step ${current} of ${total}`,

  // Step 1: Language
  langTitle: "Welcome to OpenSoul",
  langSubtitle: "Choose your preferred language to get started.",
  langLabel: "Language",

  // Step 2: Login
  loginTitle: "Sign In",
  loginSubtitle: "Sign in to sync your settings and unlock all features.",
  loginWithGoogle: "Continue with Google",
  loginWithGithub: "Continue with GitHub",
  loginOrDivider: "or",
  loginSkipHint: "You can skip this step and sign in later from Settings.",
  loginSkip: "Skip for now",
  loginLogout: "Sign out",
  loginSuccess: "Signed in",
  loginError: "Sign-in failed. Please try again.",
  loginModeLogin: "Sign In",
  loginModeRegister: "Create Account",
  loginSwitchToRegister: "Don't have an account?",
  loginSwitchToLogin: "Already have an account?",
  loginEmailPlaceholder: "Email address",
  loginPasswordPlaceholder: "Password",
  loginConfirmPasswordPlaceholder: "Confirm password",
  loginDisplayNamePlaceholder: "Display name",
  loginSubmitLogin: "Sign In",
  loginSubmitRegister: "Create Account",
  loginFieldRequired: "This field is required",
  loginEmailInvalid: "Please enter a valid email address",
  loginPasswordTooShort: "Password must be at least 8 characters",
  loginPasswordMismatch: "Passwords do not match",
  loginRegistering: "Creating account…",
  loginSigningIn: "Signing in…",

  // Step 2: AI Provider
  providerTitle: "Choose an AI Provider",
  providerSubtitle:
    "Select one or more AI model providers. You can always change this later in Settings.",
  providerSearch: "Search providers…",
  providerNoneSelected: "No provider selected yet.",
  providerSkip: "Skip for now",
  providerApiKeyPlaceholder: "Paste your API key…",
  providerConnected: "Connected",

  // Step 3: Channels
  channelTitle: "Connect a Channel",
  channelSubtitle:
    "Link a messaging platform so your AI companion can chat with you. You can skip and configure this later.",
  channelSkip: "Skip for now",
  channelTokenPlaceholder: "Paste bot token…",

  // Step 5: Confirm
  confirmTitle: "You're All Set!",
  confirmSubtitle: "Review your choices and launch OpenSoul.",
  confirmLogin: "Account",
  confirmLoginNone: "Not signed in (sign in later)",
  confirmLanguage: "Language",
  confirmProvider: "AI Provider",
  confirmProviderNone: "None (configure later)",
  confirmChannel: "Channel",
  confirmChannelNone: "None (configure later)",
  confirmLaunch: "Launch OpenSoul",
  confirmConfigError: "Config apply failed. Ensure Gateway is running and connected, then retry.",
  confirmRetry: "Retry",

  // Common
  next: "Next",
  back: "Back",
  skip: "Skip",
  finish: "Finish",
};

const ZH_CN: I18nMessages = {
  stepOf: (current, total) => `第 ${current} 步，共 ${total} 步`,

  langTitle: "欢迎使用 OpenSoul",
  langSubtitle: "选择你偏好的语言以开始设置。",
  langLabel: "语言",

  loginTitle: "登录",
  loginSubtitle: "登录以同步你的设置并解锁所有功能。",
  loginWithGoogle: "使用 Google 登录",
  loginWithGithub: "使用 GitHub 登录",
  loginOrDivider: "或者",
  loginSkipHint: "你可以跳过此步骤，稍后在设置中登录。",
  loginSkip: "暂时跳过",
  loginLogout: "退出登录",
  loginSuccess: "已登录",
  loginError: "登录失败，请重试。",
  loginModeLogin: "登录",
  loginModeRegister: "创建账号",
  loginSwitchToRegister: "还没有账号？",
  loginSwitchToLogin: "已有账号？",
  loginEmailPlaceholder: "邮箱地址",
  loginPasswordPlaceholder: "密码",
  loginConfirmPasswordPlaceholder: "确认密码",
  loginDisplayNamePlaceholder: "显示名称",
  loginSubmitLogin: "登录",
  loginSubmitRegister: "创建账号",
  loginFieldRequired: "此项为必填",
  loginEmailInvalid: "请输入有效的邮箱地址",
  loginPasswordTooShort: "密码至少需要 8 个字符",
  loginPasswordMismatch: "两次输入的密码不一致",
  loginRegistering: "正在创建账号…",
  loginSigningIn: "正在登录…",

  providerTitle: "选择 AI 提供商",
  providerSubtitle: "选择一个或多个 AI 模型提供商。你随时可以在设置中更改。",
  providerSearch: "搜索提供商…",
  providerNoneSelected: "尚未选择提供商。",
  providerSkip: "暂时跳过",
  providerApiKeyPlaceholder: "粘贴你的 API Key…",
  providerConnected: "已连接",

  channelTitle: "连接聊天渠道",
  channelSubtitle: "链接一个聊天平台，让你的 AI 伙伴与你对话。你也可以稍后配置。",
  channelSkip: "暂时跳过",
  channelTokenPlaceholder: "粘贴 Bot Token…",

  confirmTitle: "一切就绪！",
  confirmSubtitle: "检查你的选择，然后启动 OpenSoul。",
  confirmLogin: "账号",
  confirmLoginNone: "未登录（稍后登录）",
  confirmLanguage: "语言",
  confirmProvider: "AI 提供商",
  confirmProviderNone: "无（稍后配置）",
  confirmChannel: "聊天渠道",
  confirmChannelNone: "无（稍后配置）",
  confirmLaunch: "启动 OpenSoul",
  confirmConfigError: "配置应用失败。请确保 Gateway 已启动且已连接，然后重试。",
  confirmRetry: "重试",

  next: "下一步",
  back: "上一步",
  skip: "跳过",
  finish: "完成",
};

const ZH_TW: I18nMessages = {
  stepOf: (current, total) => `第 ${current} 步，共 ${total} 步`,

  langTitle: "歡迎使用 OpenSoul",
  langSubtitle: "選擇你偏好的語言以開始設定。",
  langLabel: "語言",

  loginTitle: "登入",
  loginSubtitle: "登入以同步你的設定並解鎖所有功能。",
  loginWithGoogle: "使用 Google 登入",
  loginWithGithub: "使用 GitHub 登入",
  loginOrDivider: "或者",
  loginSkipHint: "你可以跳過此步驟，稍後在設定中登入。",
  loginSkip: "暫時跳過",
  loginLogout: "登出",
  loginSuccess: "已登入",
  loginError: "登入失敗，請重試。",
  loginModeLogin: "登入",
  loginModeRegister: "建立帳號",
  loginSwitchToRegister: "還沒有帳號？",
  loginSwitchToLogin: "已有帳號？",
  loginEmailPlaceholder: "電子郵件",
  loginPasswordPlaceholder: "密碼",
  loginConfirmPasswordPlaceholder: "確認密碼",
  loginDisplayNamePlaceholder: "顯示名稱",
  loginSubmitLogin: "登入",
  loginSubmitRegister: "建立帳號",
  loginFieldRequired: "此欄位為必填",
  loginEmailInvalid: "請輸入有效的電子郵件地址",
  loginPasswordTooShort: "密碼至少需要 8 個字元",
  loginPasswordMismatch: "兩次輸入的密碼不一致",
  loginRegistering: "正在建立帳號…",
  loginSigningIn: "正在登入…",

  providerTitle: "選擇 AI 提供商",
  providerSubtitle: "選擇一個或多個 AI 模型提供商。你隨時可以在設定中更改。",
  providerSearch: "搜尋提供商…",
  providerNoneSelected: "尚未選擇提供商。",
  providerSkip: "暫時跳過",
  providerApiKeyPlaceholder: "貼上你的 API Key…",
  providerConnected: "已連接",

  channelTitle: "連接聊天頻道",
  channelSubtitle: "連結一個聊天平台，讓你的 AI 夥伴與你對話。你也可以稍後設定。",
  channelSkip: "暫時跳過",
  channelTokenPlaceholder: "貼上 Bot Token…",

  confirmTitle: "一切就緒！",
  confirmSubtitle: "檢查你的選擇，然後啟動 OpenSoul。",
  confirmLogin: "帳號",
  confirmLoginNone: "未登入（稍後登入）",
  confirmLanguage: "語言",
  confirmProvider: "AI 提供商",
  confirmProviderNone: "無（稍後設定）",
  confirmChannel: "聊天頻道",
  confirmChannelNone: "無（稍後設定）",
  confirmLaunch: "啟動 OpenSoul",
  confirmConfigError: "配置應用失敗。請確保 Gateway 已啟動且已連接，然後重試。",
  confirmRetry: "重試",

  next: "下一步",
  back: "上一步",
  skip: "跳過",
  finish: "完成",
};

const JA: I18nMessages = {
  stepOf: (current, total) => `ステップ ${current} / ${total}`,

  langTitle: "OpenSoul へようこそ",
  langSubtitle: "お好みの言語を選択してください。",
  langLabel: "言語",

  loginTitle: "サインイン",
  loginSubtitle: "サインインして設定を同期し、すべての機能を利用しましょう。",
  loginWithGoogle: "Google で続ける",
  loginWithGithub: "GitHub で続ける",
  loginOrDivider: "または",
  loginSkipHint: "このステップをスキップして、後で設定からサインインできます。",
  loginSkip: "スキップ",
  loginLogout: "サインアウト",
  loginSuccess: "サインイン済み",
  loginError: "サインインに失敗しました。もう一度お試しください。",
  loginModeLogin: "サインイン",
  loginModeRegister: "アカウント作成",
  loginSwitchToRegister: "アカウントをお持ちでないですか？",
  loginSwitchToLogin: "すでにアカウントをお持ちですか？",
  loginEmailPlaceholder: "メールアドレス",
  loginPasswordPlaceholder: "パスワード",
  loginConfirmPasswordPlaceholder: "パスワードの確認",
  loginDisplayNamePlaceholder: "表示名",
  loginSubmitLogin: "サインイン",
  loginSubmitRegister: "アカウント作成",
  loginFieldRequired: "この項目は必須です",
  loginEmailInvalid: "有効なメールアドレスを入力してください",
  loginPasswordTooShort: "パスワードは8文字以上必要です",
  loginPasswordMismatch: "パスワードが一致しません",
  loginRegistering: "アカウントを作成中…",
  loginSigningIn: "サインイン中…",

  providerTitle: "AI プロバイダーを選択",
  providerSubtitle: "1つ以上のAIモデルプロバイダーを選択してください。設定でいつでも変更できます。",
  providerSearch: "プロバイダーを検索…",
  providerNoneSelected: "プロバイダーが選択されていません。",
  providerSkip: "スキップ",
  providerApiKeyPlaceholder: "API キーを貼り付け…",
  providerConnected: "接続済み",

  channelTitle: "チャンネルを接続",
  channelSubtitle:
    "メッセージングプラットフォームを接続して、AIコンパニオンとチャットしましょう。後で設定することもできます。",
  channelSkip: "スキップ",
  channelTokenPlaceholder: "ボットトークンを貼り付け…",

  confirmTitle: "準備完了！",
  confirmSubtitle: "設定を確認して、OpenSoul を起動します。",
  confirmLogin: "アカウント",
  confirmLoginNone: "未サインイン（後でサインイン）",
  confirmLanguage: "言語",
  confirmProvider: "AI プロバイダー",
  confirmProviderNone: "なし（後で設定）",
  confirmChannel: "チャンネル",
  confirmChannelNone: "なし（後で設定）",
  confirmLaunch: "OpenSoul を起動",
  confirmConfigError:
    "設定の適用に失敗しました。Gateway が起動して接続されていることを確認してから、再試行してください。",
  confirmRetry: "再試行",

  next: "次へ",
  back: "戻る",
  skip: "スキップ",
  finish: "完了",
};

const KO: I18nMessages = {
  stepOf: (current, total) => `${total}단계 중 ${current}단계`,

  langTitle: "OpenSoul에 오신 것을 환영합니다",
  langSubtitle: "원하는 언어를 선택하세요.",
  langLabel: "언어",

  loginTitle: "로그인",
  loginSubtitle: "로그인하여 설정을 동기화하고 모든 기능을 잠금 해제하세요.",
  loginWithGoogle: "Google로 계속",
  loginWithGithub: "GitHub로 계속",
  loginOrDivider: "또는",
  loginSkipHint: "이 단계를 건너뛰고 나중에 설정에서 로그인할 수 있습니다.",
  loginSkip: "건너뛰기",
  loginLogout: "로그아웃",
  loginSuccess: "로그인됨",
  loginError: "로그인에 실패했습니다. 다시 시도해 주세요.",
  loginModeLogin: "로그인",
  loginModeRegister: "계정 만들기",
  loginSwitchToRegister: "계정이 없으신가요?",
  loginSwitchToLogin: "이미 계정이 있으신가요?",
  loginEmailPlaceholder: "이메일 주소",
  loginPasswordPlaceholder: "비밀번호",
  loginConfirmPasswordPlaceholder: "비밀번호 확인",
  loginDisplayNamePlaceholder: "표시 이름",
  loginSubmitLogin: "로그인",
  loginSubmitRegister: "계정 만들기",
  loginFieldRequired: "필수 항목입니다",
  loginEmailInvalid: "유효한 이메일 주소를 입력해 주세요",
  loginPasswordTooShort: "비밀번호는 8자 이상이어야 합니다",
  loginPasswordMismatch: "비밀번호가 일치하지 않습니다",
  loginRegistering: "계정 생성 중…",
  loginSigningIn: "로그인 중…",

  providerTitle: "AI 제공자 선택",
  providerSubtitle:
    "하나 이상의 AI 모델 제공자를 선택하세요. 설정에서 언제든지 변경할 수 있습니다.",
  providerSearch: "제공자 검색…",
  providerNoneSelected: "선택된 제공자가 없습니다.",
  providerSkip: "건너뛰기",
  providerApiKeyPlaceholder: "API 키를 붙여넣기…",
  providerConnected: "연결됨",

  channelTitle: "채널 연결",
  channelSubtitle: "메시징 플랫폼을 연결하여 AI 동반자와 대화하세요. 나중에 설정할 수도 있습니다.",
  channelSkip: "건너뛰기",
  channelTokenPlaceholder: "봇 토큰 붙여넣기…",

  confirmTitle: "모두 준비되었습니다!",
  confirmSubtitle: "선택 사항을 검토하고 OpenSoul을 시작하세요.",
  confirmLogin: "계정",
  confirmLoginNone: "미로그인 (나중에 로그인)",
  confirmLanguage: "언어",
  confirmProvider: "AI 제공자",
  confirmProviderNone: "없음 (나중에 설정)",
  confirmChannel: "채널",
  confirmChannelNone: "없음 (나중에 설정)",
  confirmLaunch: "OpenSoul 시작",
  confirmConfigError:
    "구성 적용에 실패했습니다. Gateway가 실행 중이고 연결되어 있는지 확인한 후 다시 시도하세요.",
  confirmRetry: "다시 시도",

  next: "다음",
  back: "뒤로",
  skip: "건너뛰기",
  finish: "완료",
};

const ES: I18nMessages = {
  stepOf: (current, total) => `Paso ${current} de ${total}`,
  langTitle: "Bienvenido a OpenSoul",
  langSubtitle: "Elige tu idioma preferido para comenzar.",
  langLabel: "Idioma",
  loginTitle: "Iniciar sesión",
  loginSubtitle:
    "Inicia sesión para sincronizar tu configuración y desbloquear todas las funciones.",
  loginWithGoogle: "Continuar con Google",
  loginWithGithub: "Continuar con GitHub",
  loginOrDivider: "o",
  loginSkipHint: "Puedes omitir este paso e iniciar sesión más tarde.",
  loginSkip: "Omitir por ahora",
  loginLogout: "Cerrar sesión",
  loginSuccess: "Sesión iniciada",
  loginError: "Error al iniciar sesión. Inténtalo de nuevo.",
  loginModeLogin: "Iniciar sesión",
  loginModeRegister: "Crear cuenta",
  loginSwitchToRegister: "¿No tienes una cuenta?",
  loginSwitchToLogin: "¿Ya tienes una cuenta?",
  loginEmailPlaceholder: "Correo electrónico",
  loginPasswordPlaceholder: "Contraseña",
  loginConfirmPasswordPlaceholder: "Confirmar contraseña",
  loginDisplayNamePlaceholder: "Nombre de visualización",
  loginSubmitLogin: "Iniciar sesión",
  loginSubmitRegister: "Crear cuenta",
  loginFieldRequired: "Campo obligatorio",
  loginEmailInvalid: "Introduce un correo electrónico válido",
  loginPasswordTooShort: "La contraseña debe tener al menos 8 caracteres",
  loginPasswordMismatch: "Las contraseñas no coinciden",
  loginRegistering: "Creando cuenta…",
  loginSigningIn: "Iniciando sesión…",
  providerTitle: "Elige un proveedor de IA",
  providerSubtitle:
    "Selecciona uno o más proveedores de modelos de IA. Puedes cambiarlo en Configuración.",
  providerSearch: "Buscar proveedores…",
  providerNoneSelected: "Ningún proveedor seleccionado.",
  providerSkip: "Omitir por ahora",
  providerApiKeyPlaceholder: "Pega tu API key…",
  providerConnected: "Conectado",
  channelTitle: "Conectar un canal",
  channelSubtitle: "Vincula una plataforma de mensajería. Puedes configurarlo después.",
  channelSkip: "Omitir por ahora",
  channelTokenPlaceholder: "Pega el token del bot…",
  confirmTitle: "¡Todo listo!",
  confirmSubtitle: "Revisa tus opciones e inicia OpenSoul.",
  confirmLogin: "Cuenta",
  confirmLoginNone: "Sin iniciar sesión (iniciar sesión después)",
  confirmLanguage: "Idioma",
  confirmProvider: "Proveedor de IA",
  confirmProviderNone: "Ninguno (configurar después)",
  confirmChannel: "Canal",
  confirmChannelNone: "Ninguno (configurar después)",
  confirmLaunch: "Iniciar OpenSoul",
  confirmConfigError:
    "Error al aplicar la configuración. Asegúrate de que Gateway esté en ejecución y conectado, luego reintenta.",
  confirmRetry: "Reintentar",
  next: "Siguiente",
  back: "Atrás",
  skip: "Omitir",
  finish: "Finalizar",
};

const FR: I18nMessages = {
  stepOf: (current, total) => `Étape ${current} sur ${total}`,
  langTitle: "Bienvenue sur OpenSoul",
  langSubtitle: "Choisissez votre langue préférée pour commencer.",
  langLabel: "Langue",
  loginTitle: "Connexion",
  loginSubtitle:
    "Connectez-vous pour synchroniser vos paramètres et débloquer toutes les fonctionnalités.",
  loginWithGoogle: "Continuer avec Google",
  loginWithGithub: "Continuer avec GitHub",
  loginOrDivider: "ou",
  loginSkipHint: "Vous pouvez passer cette étape et vous connecter plus tard.",
  loginSkip: "Passer pour l'instant",
  loginLogout: "Déconnexion",
  loginSuccess: "Connecté",
  loginError: "Échec de la connexion. Veuillez réessayer.",
  loginModeLogin: "Connexion",
  loginModeRegister: "Créer un compte",
  loginSwitchToRegister: "Pas encore de compte ?",
  loginSwitchToLogin: "Déjà un compte ?",
  loginEmailPlaceholder: "Adresse e-mail",
  loginPasswordPlaceholder: "Mot de passe",
  loginConfirmPasswordPlaceholder: "Confirmer le mot de passe",
  loginDisplayNamePlaceholder: "Nom d'affichage",
  loginSubmitLogin: "Se connecter",
  loginSubmitRegister: "Créer un compte",
  loginFieldRequired: "Champ obligatoire",
  loginEmailInvalid: "Veuillez entrer une adresse e-mail valide",
  loginPasswordTooShort: "Le mot de passe doit contenir au moins 8 caractères",
  loginPasswordMismatch: "Les mots de passe ne correspondent pas",
  loginRegistering: "Création du compte…",
  loginSigningIn: "Connexion en cours…",
  providerTitle: "Choisir un fournisseur IA",
  providerSubtitle:
    "Sélectionnez un ou plusieurs fournisseurs de modèles IA. Modifiable dans les paramètres.",
  providerSearch: "Rechercher…",
  providerNoneSelected: "Aucun fournisseur sélectionné.",
  providerSkip: "Passer pour l'instant",
  providerApiKeyPlaceholder: "Collez votre clé API…",
  providerConnected: "Connecté",
  channelTitle: "Connecter un canal",
  channelSubtitle: "Liez une plateforme de messagerie. Vous pouvez configurer plus tard.",
  channelSkip: "Passer pour l'instant",
  channelTokenPlaceholder: "Collez le token du bot…",
  confirmTitle: "Tout est prêt !",
  confirmSubtitle: "Vérifiez vos choix et lancez OpenSoul.",
  confirmLogin: "Compte",
  confirmLoginNone: "Non connecté (se connecter plus tard)",
  confirmLanguage: "Langue",
  confirmProvider: "Fournisseur IA",
  confirmProviderNone: "Aucun (configurer plus tard)",
  confirmChannel: "Canal",
  confirmChannelNone: "Aucun (configurer plus tard)",
  confirmLaunch: "Lancer OpenSoul",
  confirmConfigError:
    "Échec de l'application de la configuration. Vérifiez que Gateway est en cours d'exécution et connecté, puis réessayez.",
  confirmRetry: "Réessayer",
  next: "Suivant",
  back: "Retour",
  skip: "Passer",
  finish: "Terminer",
};

const DE: I18nMessages = {
  stepOf: (current, total) => `Schritt ${current} von ${total}`,
  langTitle: "Willkommen bei OpenSoul",
  langSubtitle: "Wähle deine bevorzugte Sprache.",
  langLabel: "Sprache",

  loginTitle: "Anmelden",
  loginSubtitle:
    "Melde dich an, um deine Einstellungen zu synchronisieren und alle Funktionen freizuschalten.",
  loginWithGoogle: "Weiter mit Google",
  loginWithGithub: "Weiter mit GitHub",
  loginOrDivider: "oder",
  loginSkipHint:
    "Du kannst diesen Schritt überspringen und dich später in den Einstellungen anmelden.",
  loginSkip: "Vorerst überspringen",
  loginLogout: "Abmelden",
  loginSuccess: "Angemeldet",
  loginError: "Anmeldung fehlgeschlagen. Bitte versuche es erneut.",
  loginModeLogin: "Anmelden",
  loginModeRegister: "Konto erstellen",
  loginSwitchToRegister: "Noch kein Konto?",
  loginSwitchToLogin: "Bereits ein Konto?",
  loginEmailPlaceholder: "E-Mail-Adresse",
  loginPasswordPlaceholder: "Passwort",
  loginConfirmPasswordPlaceholder: "Passwort bestätigen",
  loginDisplayNamePlaceholder: "Anzeigename",
  loginSubmitLogin: "Anmelden",
  loginSubmitRegister: "Konto erstellen",
  loginFieldRequired: "Pflichtfeld",
  loginEmailInvalid: "Bitte gib eine gültige E-Mail-Adresse ein",
  loginPasswordTooShort: "Passwort muss mindestens 8 Zeichen haben",
  loginPasswordMismatch: "Passwörter stimmen nicht überein",
  loginRegistering: "Konto wird erstellt…",
  loginSigningIn: "Anmeldung…",

  providerTitle: "KI-Anbieter wählen",
  providerSubtitle:
    "Wähle einen oder mehrere KI-Modellanbieter. Du kannst dies jederzeit in den Einstellungen ändern.",
  providerSearch: "Anbieter suchen…",
  providerNoneSelected: "Kein Anbieter ausgewählt.",
  providerSkip: "Vorerst überspringen",
  providerApiKeyPlaceholder: "API-Schlüssel einfügen…",
  providerConnected: "Verbunden",
  channelTitle: "Kanal verbinden",
  channelSubtitle: "Verbinde eine Messaging-Plattform. Du kannst dies später konfigurieren.",
  channelSkip: "Vorerst überspringen",
  channelTokenPlaceholder: "Bot-Token einfügen…",
  confirmTitle: "Alles bereit!",
  confirmSubtitle: "Überprüfe deine Auswahl und starte OpenSoul.",
  confirmLogin: "Konto",
  confirmLoginNone: "Nicht angemeldet (später anmelden)",
  confirmLanguage: "Sprache",
  confirmProvider: "KI-Anbieter",
  confirmProviderNone: "Keiner (später konfigurieren)",
  confirmChannel: "Kanal",
  confirmChannelNone: "Keiner (später konfigurieren)",
  confirmLaunch: "OpenSoul starten",
  confirmConfigError:
    "Konfiguration konnte nicht angewendet werden. Stellen Sie sicher, dass Gateway läuft und verbunden ist, dann erneut versuchen.",
  confirmRetry: "Erneut versuchen",
  next: "Weiter",
  back: "Zurück",
  skip: "Überspringen",
  finish: "Fertig",
};

const PT_BR: I18nMessages = {
  stepOf: (current, total) => `Passo ${current} de ${total}`,
  langTitle: "Bem-vindo ao OpenSoul",
  langSubtitle: "Escolha seu idioma preferido para começar.",
  langLabel: "Idioma",

  loginTitle: "Entrar",
  loginSubtitle: "Entre para sincronizar suas configurações e desbloquear todos os recursos.",
  loginWithGoogle: "Continuar com Google",
  loginWithGithub: "Continuar com GitHub",
  loginOrDivider: "ou",
  loginSkipHint: "Você pode pular esta etapa e entrar mais tarde nas configurações.",
  loginSkip: "Pular por enquanto",
  loginLogout: "Sair",
  loginSuccess: "Conectado",
  loginError: "Falha ao entrar. Tente novamente.",
  loginModeLogin: "Entrar",
  loginModeRegister: "Criar conta",
  loginSwitchToRegister: "Não tem uma conta?",
  loginSwitchToLogin: "Já tem uma conta?",
  loginEmailPlaceholder: "Endereço de e-mail",
  loginPasswordPlaceholder: "Senha",
  loginConfirmPasswordPlaceholder: "Confirmar senha",
  loginDisplayNamePlaceholder: "Nome de exibição",
  loginSubmitLogin: "Entrar",
  loginSubmitRegister: "Criar conta",
  loginFieldRequired: "Campo obrigatório",
  loginEmailInvalid: "Insira um endereço de e-mail válido",
  loginPasswordTooShort: "A senha deve ter pelo menos 8 caracteres",
  loginPasswordMismatch: "As senhas não coincidem",
  loginRegistering: "Criando conta…",
  loginSigningIn: "Entrando…",

  providerTitle: "Escolha um provedor de IA",
  providerSubtitle:
    "Selecione um ou mais provedores de modelos de IA. Você pode alterar nas configurações.",
  providerSearch: "Buscar provedores…",
  providerNoneSelected: "Nenhum provedor selecionado.",
  providerSkip: "Pular por enquanto",
  providerApiKeyPlaceholder: "Cole sua chave API…",
  providerConnected: "Conectado",
  channelTitle: "Conectar um canal",
  channelSubtitle: "Vincule uma plataforma de mensagens. Você pode configurar depois.",
  channelSkip: "Pular por enquanto",
  channelTokenPlaceholder: "Cole o token do bot…",
  confirmTitle: "Tudo pronto!",
  confirmLogin: "Conta",
  confirmLoginNone: "Não conectado (conectar depois)",
  confirmSubtitle: "Revise suas escolhas e inicie o OpenSoul.",
  confirmLanguage: "Idioma",
  confirmProvider: "Provedor de IA",
  confirmProviderNone: "Nenhum (configurar depois)",
  confirmChannel: "Canal",
  confirmChannelNone: "Nenhum (configurar depois)",
  confirmLaunch: "Iniciar OpenSoul",
  confirmConfigError:
    "Falha ao aplicar a configuração. Verifique se o Gateway está em execução e conectado, depois tente novamente.",
  confirmRetry: "Tentar novamente",
  next: "Próximo",
  back: "Voltar",
  skip: "Pular",
  finish: "Concluir",
};

const RU: I18nMessages = {
  stepOf: (current, total) => `Шаг ${current} из ${total}`,
  langTitle: "Добро пожаловать в OpenSoul",
  langSubtitle: "Выберите предпочитаемый язык.",
  langLabel: "Язык",
  loginTitle: "Вход",
  loginSubtitle: "Войдите, чтобы синхронизировать настройки и разблокировать все функции.",
  loginWithGoogle: "Продолжить с Google",
  loginWithGithub: "Продолжить с GitHub",
  loginOrDivider: "или",
  loginSkipHint: "Вы можете пропустить этот шаг и войти позже.",
  loginSkip: "Пропустить",
  loginLogout: "Выйти",
  loginSuccess: "Вход выполнен",
  loginError: "Ошибка входа. Попробуйте снова.",
  loginModeLogin: "Вход",
  loginModeRegister: "Создать аккаунт",
  loginSwitchToRegister: "Нет аккаунта?",
  loginSwitchToLogin: "Уже есть аккаунт?",
  loginEmailPlaceholder: "Электронная почта",
  loginPasswordPlaceholder: "Пароль",
  loginConfirmPasswordPlaceholder: "Подтвердите пароль",
  loginDisplayNamePlaceholder: "Имя для отображения",
  loginSubmitLogin: "Войти",
  loginSubmitRegister: "Создать аккаунт",
  loginFieldRequired: "Обязательное поле",
  loginEmailInvalid: "Введите корректный адрес электронной почты",
  loginPasswordTooShort: "Пароль должен содержать не менее 8 символов",
  loginPasswordMismatch: "Пароли не совпадают",
  loginRegistering: "Создание аккаунта…",
  loginSigningIn: "Вход…",
  providerTitle: "Выберите провайдера ИИ",
  providerSubtitle:
    "Выберите одного или нескольких провайдеров. Вы всегда можете изменить это в настройках.",
  providerSearch: "Поиск провайдеров…",
  providerNoneSelected: "Провайдер не выбран.",
  providerSkip: "Пропустить",
  providerApiKeyPlaceholder: "Вставьте API ключ…",
  providerConnected: "Подключено",
  channelTitle: "Подключить канал",
  channelSubtitle: "Подключите мессенджер. Вы можете настроить это позже.",
  channelSkip: "Пропустить",
  channelTokenPlaceholder: "Вставьте токен бота…",
  confirmTitle: "Всё готово!",
  confirmSubtitle: "Проверьте настройки и запустите OpenSoul.",
  confirmLogin: "Аккаунт",
  confirmLoginNone: "Не выполнен вход (войти позже)",
  confirmLanguage: "Язык",
  confirmProvider: "Провайдер ИИ",
  confirmProviderNone: "Нет (настроить позже)",
  confirmChannel: "Канал",
  confirmChannelNone: "Нет (настроить позже)",
  confirmLaunch: "Запустить OpenSoul",
  confirmConfigError:
    "Не удалось применить конфигурацию. Убедитесь, что Gateway запущен и подключен, затем повторите попытку.",
  confirmRetry: "Повторить",
  next: "Далее",
  back: "Назад",
  skip: "Пропустить",
  finish: "Готово",
};

const MESSAGES: Record<Locale, I18nMessages> = {
  en: EN,
  "zh-CN": ZH_CN,
  "zh-TW": ZH_TW,
  ja: JA,
  ko: KO,
  es: ES,
  fr: FR,
  de: DE,
  "pt-BR": PT_BR,
  ru: RU,
};

/** Locales shown in the language picker. */
export const AVAILABLE_LOCALES: Array<{ value: Locale; label: string; nativeLabel: string }> = [
  { value: "en", label: "English", nativeLabel: "English" },
  { value: "zh-CN", label: "Chinese (Simplified)", nativeLabel: "简体中文" },
  { value: "zh-TW", label: "Chinese (Traditional)", nativeLabel: "繁體中文" },
  { value: "ja", label: "Japanese", nativeLabel: "日本語" },
  { value: "ko", label: "Korean", nativeLabel: "한국어" },
  { value: "es", label: "Spanish", nativeLabel: "Español" },
  { value: "fr", label: "French", nativeLabel: "Français" },
  { value: "de", label: "German", nativeLabel: "Deutsch" },
  { value: "pt-BR", label: "Portuguese (Brazil)", nativeLabel: "Português (Brasil)" },
  { value: "ru", label: "Russian", nativeLabel: "Русский" },
];

export function getMessages(locale: Locale): I18nMessages {
  return MESSAGES[locale] ?? EN;
}

/** Detect the best initial locale from the browser. */
export function detectLocale(): Locale {
  const nav = navigator.language ?? "en";
  const lower = nav.toLowerCase();
  if (lower.startsWith("zh-tw") || lower.startsWith("zh-hant")) {
    return "zh-TW";
  }
  if (lower.startsWith("zh")) {
    return "zh-CN";
  }
  if (lower.startsWith("ja")) {
    return "ja";
  }
  if (lower.startsWith("ko")) {
    return "ko";
  }
  if (lower.startsWith("es")) {
    return "es";
  }
  if (lower.startsWith("fr")) {
    return "fr";
  }
  if (lower.startsWith("de")) {
    return "de";
  }
  if (lower.startsWith("pt")) {
    return "pt-BR";
  }
  if (lower.startsWith("ru")) {
    return "ru";
  }
  return "en";
}
